---
import { calcPagination } from '../lib/wp';
type Props = { current: number; totalPages: number; base?: string };
const { current, totalPages, base = '/page' } = Astro.props as Props;
const { pages, hasPrev, hasNext } = calcPagination(current, totalPages, 7);
const href = (n: number) => (n === 1 ? '/' : `${base}/${n}`);
---

<nav class="mt-14 flex" aria-label="分页导航">
  {hasPrev ? (
    <a class="btn not-prose" href={href(current - 1)} aria-label="上一页">← 上一页</a>
  ) : null}
  {hasNext ? (
    <a class="btn not-prose ml-auto" href={href(current + 1)} aria-label="下一页">下一页 →</a>
  ) : null}
</nav>
